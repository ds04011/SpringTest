<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>통통통통</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="/reservation/style.css">
</head>
<body>
    <div id="wrap" class="d-flex justify-content-center align-items-center" >

        <div class="col-10">
            <header class=" d-flex justify-content-center align-items-center">
                <div>
                    <h1 class="mt-3 copy">통나무 펜션</h1>
                </div>
            </header>

            <nav class=" ">
                <ul class="nav nav-fill font-weight-bold pt-1">
                    <li class="nav-item"><a href="/tong/mainpage" class="nav-link text-white">펜션소개</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">객실보기</a></li>
                    <li class="nav-item"><a href="/tong/reservationpage" class="nav-link text-white">예약하기</a></li>
                    <li class="nav-item"><a href="/tong/reservationlist" class="nav-link text-white">예약목록</a></li>
                </ul>
            </nav>

            <section class = "">

                <div class="main-banner">
                    <img width="970px" id="mainImg" alt="메인배너 통나무집 사진" src="http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner1.jpg">
                </div>

                <div class="content d-flex">
                    <div class="col-4 tong1 d-flex justify-content-center align-items-center">
                        <div class="resv  text-white">실시간<br>예약 하기</div>
                    </div>

                    <div class="col-5 tong2">
                        <div class=" d-flex justify-content-start align-items-center my-2">

                            <div class="col-4 p-0 d-flex align-items-end ">
                                <h5 class="text-white">예약 확인</h5>
                            </div>
                            <div class="col-8 d-flex align-items-end">
                                <label class="text-white m-2">회원<input type = "radio"  name = "dist" value="member" checked></label>
                                <label class="text-white">비회원<input type = "radio"  name = "dist" value="general"></label>
                            </div>

                        </div>

                        <div class="" >
                            <div class="" id="member">
                                <div class="d-flex justify-content-between m-2 align-items-center"> 
                                    <label class="text-white col-4 text-right">이름 : </label><input type="text" id="nameInput1" class="form-control col-7 ">
                                </div>
                                <div class="d-flex justify-content-between m-2 align-items-center">
                                    <label class="text-white col-4 text-right">전화번호 : </label><input type="text" id="phoneInput1" class="form-control col-7 ">
                                </div>
                            </div>

                            <div class="d-none" id="general">
                                <div class="d-flex justify-content-between m-2 align-items-center"> 
                                    <label class="text-white col-4 text-right">이름 : </label><input type="text" id="nameInput" class="form-control col-8 ">
                                </div>
                                <div class="d-flex justify-content-between m-2 align-items-center">
                                    <label class="text-white col-4 text-right ">전화번호 : </label><input type="text" id="phoneInput" class="form-control col-8 ">
                                </div>
                                <div class="d-flex justify-content-between m-2 align-items-center">
                                    <label class="text-white col-4 text-right">날짜 : </label><input type="text"  class="form-control col-8 " id="dateInput">
                                </div>
                            </div>



                            <div class="text-right "><button type="button" class="btn btn-success mr-2" id="checkBtn">조회 하기</button></div>
                        </div>

                    </div>
                    <div class="col-3 tong3 d-flex align-items-center">
                        <div class=" text-white"><h3>예약문의 :</h3> <h2>010-000-1111</h2></div>
                    </div>
                </div>
                

            </section>

            <footer class="d-flex ">
                <div class="small copy">
                    제주특별자치도 제주시 애월읍 <br>
                    사업자등록번호 : 111-22-34256 /
                    Copyright 2025 통나무 All Rights Reserved.
                </div>
                
            </footer>
        </div>

    </div>





    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
    <script>


        var imgList = [
                "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner1.jpg",
                "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner2.jpg",
                "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner3.jpg",
                "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner4.jpg"
        ];
        var index =0;
        setInterval(function() {
            index ++;
            if(index == imgList.length){
                index = 0;
            }
            $("#mainImg").attr("src", imgList[index]);
        }, 3000); // 3000ms 마다 실행되는 function 

        

        /*$("#checkBtn").on("click", function(){
            let type = $("input[name = dist]:checked").val();

            if(type == "member"){
                let id = $("#idInput").val();
                let pw = $("#pwInput").val();

                //여기에 이제 유효성검사 추가.
                alert(id + " 님의 로그인이 완료되었습니다.");

            }
            else if(type == "general"){
                let phonenumber = $("#phoneInput").val();
                let name = $("#nameInput").val();
                let date = $("#dateInput").val();


                // 유효성 검사 추가 
                alert(name + " 님의 " + date + " 예약이 완료되었습니다. ");
            }
            
            
        }); */
        
        
        $("#checkBtn").on("click", function(){
        	
        	let name = $("#nameInput1").val();
        	let phoneNumber = $("#phoneInput1").val();
        	
        	if(name==""){
        		alert("검색할 이름을 입력해주세요");
        		return;
        	}
        	if(phoneNumber==""){
        		alert("검색할 번호를 입력해주세요");
        		return;
        	}
        	
        	$.ajax({
        		type:"post"
        		, url:"/tong/check"
        		, data:{"name":name, "phoneNumber":phoneNumber}
        		, success:function(response){
        			
        			if(response.result == "success"){
        				alert("이름 : " + response.data.name 
        						+ "\n날짜 : " + response.data.date  
        						+ "\n일수 : " + response.data.day
        						+ "\n인원 : " + response.data.headcount
        						+ "\n상태 : " + response.data.state);
        			} else {
        				alert("조회 결과가 없습니다.");
        			}
        			
        		}
        		, error:function(){
        			alert("ajax 통신 에러 발생 ");
        		}
        		
        		
        		
        	});
        	
        	
        });
        
        
        
        
        
        
        

        $("#dateInput").datepicker({
            dateFormat : "yy년 m월 d일"
        });


        $("input[name = dist]").on("change", function() {
            
            if( $(this).val() == "member"){
                $("#member").removeClass("d-none");
                $("#general").addClass("d-none");
            }
            else if( $(this).val() == "general"){
                $("#general").removeClass("d-none");
                $("#member").addClass("d-none");           
            }
        });
    </script>
</body>
</html>
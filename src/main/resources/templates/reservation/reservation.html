<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="UTF-8">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="/reservation/style.css">
<title>통통통통</title>
</head>
<body>
	<div id="wrap" class="d-flex justify-content-center align-items-center" >

        <div class="col-10">
            <header class=" d-flex justify-content-center align-items-center">
                <div>
                    <h1 class="mt-3 copy">통나무 펜션</h1>
                </div>
            </header>

            <nav class=" ">
                <ul class="nav nav-fill font-weight-bold pt-1">
                    <li class="nav-item"><a href="/tong/mainpage" class="nav-link text-white">펜션소개</a></li>
                    <li class="nav-item"><a href="#" class="nav-link text-white">객실보기</a></li>
                    <li class="nav-item"><a href="/tong/reservationpage" class="nav-link text-white">예약하기</a></li>
                    <li class="nav-item"><a href="/tong/reservationlist" class="nav-link text-white">예약목록</a></li>
                </ul>
            </nav>

            <section class = "">
				
					<h3 class="text-center mt-2">예약하기</h3>
					<div class="d-flex justify-content-center ">
						<div class="col-8">
							<div>
								<label>이름</label><br>
								<input type="text"  class="form-control " id="nameInput">
							</div>
							<div>
								<label>예약날짜</label><br>
								<input type="text" class="form-control " id="dateInput">
							</div>
							<div>
								<label>숙박일수</label><br>
								<input type="text" class="form-control " id="dayInput">
							</div>
							<div>
								<label>숙박인원</label><br>
								<input type="text" class="form-control " id="numberInput">
							</div>
							<div>
								<label>전화번호</label><br>
								<input type="text" class="form-control " id="phoneNumberInput">
							</div>
							<div>	
								<button class="btn btn-warning btn-block mt-2" id="reservBtn">예약하기</button>
							</div>
						</div>
					
					</div>
				
            </section>

            <footer class="d-flex ">
                <div class="small copy">
                    제주특별자치도 제주시 애월읍 <br>
                    사업자등록번호 : 111-22-34256 /
                    Copyright 2025 통나무 All Rights Reserved.
                </div>
                
            </footer>
        </div>

    </div>











	<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
    <script>
    	$("#reservBtn").on("click", function(){
    		let name = $("#nameInput").val();
    		let date = $("#dateInput").val();   // 날짜 입력받는거 수정 필요 
    		let day = $("#dayInput").val();
    		let headcount = $("#numberInput").val();
    		let phoneNumber = $("#phoneNumberInput").val();
    		
    		
    		if(name==""){
    			alert("이름을 입력하세요");
    			return;
    		}
    		if(date==""){
    			alert("날짜를 입력하세요");
    			return;
    		}
    		if(day==""){
    			alert("숙박일수를 입력하세요");
    			return;
    		}
    		if(headcount==""){
    			alert("인원수를 입력하세요");
    			return;
    		}
    		if(phoneNumber==""){
    			alert("전화번호를 입력하세요");
    			return;
    		}
    		if(isNaN(day)){
    			alert("숙박일수는 숫자만 입력 가능합니다.");
    			return
    		}
    		if(isNaN(headcount)){
    			alert("인원수는 숫자만 입력 가능합니다.");
    			return
    		}
    		
    		
    		
    		
    		
    		$.ajax({
    			type:"post"
    			, url:"/tong/reservate"
    			, data:{"name":name, "date":date, "day":day, "headcount":headcount, "phoneNumber":phoneNumber}
    			, success:function(response){
    				if(response.result =="success"){
    					alert("예약 추가 성공");
    					window.location.href = "/tong/mainpage";
    				} else {
    					alert("예약 실패");
    				}
    			}
    			, error:function(){
    				alert("예약 추가 과정중 에러 발생");
    			}
    			
    			
    			
    		});
    		
    	});
    
    
    </script>

</body>
</html>